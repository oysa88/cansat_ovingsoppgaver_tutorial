{"entries":[{"timestamp":1763757548934,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":185,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":33,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":46,"diffs":[[1,"    \"name\": \"Uten navn\",\n"]]},{"start1":205,"length1":50,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":232,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1763759511175,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":136,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>"]]}]}]},{"timestamp":1763759522106,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":159,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":283,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// testene settes inn her; disse vil ikke kompilert så lenge denne pakken blir brukt som en utvidelse.\n"}]}],"snapshots":[{"timestamp":1763757548933,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Uten navn\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1763759511175,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"basic.forever(function () {\n\t\n})\n","README.md":"","CanSat_Tutorial.md":"# CanSat Øvinger Tutorial\n\n### @diffs true\n\n## Del 1: @unplugged\n\n### CanSat Øvingsoppgaver @unplugged\n\nI denne veiledningen skal vi gå gjennom grunnleggende funksjoner som dere får bruk for når dere skal programmere en CanSat. \n\n**Oppgaver dere skal løse er: **\n\n- **1)** Få et LED-lys til å blinke ved koble det til pins på micro:betingelse\n- **2)** Lage en teller som teller fra 10 til 0, og som skrur på LED-lyset i 5 sekunder.\n- **3)** Bruke en OLED-skjerm, og vise nedtellingen på skjermen.\n- **4)** Lege et voltmeter som skriver spenningen til OLED-skjermen.\n- **5)** Lese analogverdi fra en TMP36 (Temperatursensor) og konvertere disse til termometerer vi viser på OLED-skjermen.\n- **6)** Koble til en BMP280 sensor, les av lufttrykk og skriv det på OLED-skjerm.\n- **7)** Regne om barometrisk lufttrykk til relativ høyde på CanSat.\n\nLykke til!\n\n\n## Del 1.1: @unplugged\n\n### Oppgave 1 - Koble LED-lys til CanSat\n\nKoble opp kretsen som vist på bildet under.\n\nNB: Koble pluss på LED til ingangen P0 og minus til jord (GND).\n\n![microbit-ovelse-1-LED.jpg](https://i.postimg.cc/wBXCyNSs/microbit-ovelse-1-LED.jpg)\n\n\n## Del 1.2:\n\n### Oppgave 1: Få LED-lyset til å skru seg AV og PÅ én gang hvert sekund.\n\nInni ``||basic: gjenta for alltid||``:\n\nFinn blokken ``||pins: skriv digital til||`` som vi skal bruke for å skru AV og PÅ LED-lyset vi har koblet til CanSat. Sett verdien til 1 for å skru lyset PÅ og 0 for å skru det AV.\n\nBruk en ``||basic: pause||`` for å si hvor lenge lyset skal være PÅ og AV.\n\n**Ekstra**: Endre hvor fort LED-lyset blinker ved å justere på tiden i ``||basic: pause||``-blokken.\n\n**HINT**: 1000 ms i ett sekund\n\n\n```blocks\nbasic.forever(function () {\n    pins.digitalWritePin(DigitalPin.P0, 1)\n    basic.pause(5000)\n    pins.digitalWritePin(DigitalPin.P0, 0)\n}\n```\n\n## Del 2.1:\n\n### Oppgave 2: Telle fra 10 til 0\n\n**Når man skal lage store koder, er det vanlig å bruke ``||functions: funksjoner||``. Inni funksjonen bygger vi koden for det vi vil den skal utføre, og så kaller vi den opp når vi trenger den.**\n\nStart med å lage funksjonen ``||functions: nedtelling||``:\n\nFor å kunne telle nedover, trenger vi en variabel som kan huske tallet vår. Lag en ny variabel: ``||variables: teller ||``, og sett den inn i ``||functions: nedtelling||``.\n\nSiden vi skal telle ned fra 10 til 0, bruker vi en ``||loops: FOR-løkke ||`` som lar og gjenta løkken akkurat så mange ganger vi ønsker. \n\nSett ``||loops: gjenta for indeks ||`` til å kjøres **fra 0 til 10**.\n\nInni ``||loops: FOR-løkke ||`` skal vi bruke en ``||basic: vis tall ||`` til å vise ``||variables: teller ||``. Og for hver gang den har vist tallet, ``||variables: endre teller med -1 ||``.\n\nHusk å kalle opp ``||functions: nedtelling||`` fra ``||basic: ved start||``.\n\n```blocks\nfunction nedtelling () {\n    teller = 10\n    for (let indeks = 0; indeks <= 10; indeks++) {\n        basic.showNumber(teller)\n        teller += -1\n    }\n}\nlet teller = 0\nnedtelling()\n```\n\n## Del 2.2:\n\n### Oppgave 2: Få LED-lys til å lyse i 5 sek.\n\nBruk de samme blokkene fra oppgave 1 for å skru på LED i 5 sekunder. Endre ``||basic: pause ||`` LED PÅ og AV til 5000 ms.\n\n```blocks\nfunction nedtelling () {\n    teller = 10\n    for (let indeks = 0; indeks <= 10; indeks++) {\n        basic.showNumber(teller)\n        teller += -1\n    }\n    pins.digitalWritePin(DigitalPin.P0, 1)\n    basic.pause(5000)\n    pins.digitalWritePin(DigitalPin.P0, 0)\n}\nlet teller = 0\nnedtelling()\n```\n\n## Del 2.3:\n\n### Bestemme når nedtelling av starte\n\n``||functions: Funksjonen nedtelling||`` lar kjører når vi starter micro:biten. Hvis vi vil at den skal kjøres på nytt, kan vi f.eks. kalle den opp når vi ``||input: trykker på knapp A||``.\n\n\n\n```blocks\nfunction nedtelling () {\n    teller = 10\n    for (let indeks = 0; indeks <= 10; indeks++) {\n        basic.showNumber(teller)\n        teller += -1\n    }\n    pins.digitalWritePin(DigitalPin.P0, 1)\n    basic.pause(5000)\n    pins.digitalWritePin(DigitalPin.P0, 0)\n}\ninput.onButtonPressed(Button.A, function () {\n    nedtelling()\n})\nlet teller = 0\nnedtelling()\n```\n\n## Del 3: @unplugged\n\n### Oppgave 3: Skriv til OLED-skjerm\n\nNå skal vi se på hvordan vi kan bruke en Kitronik OLED-skjerm for å bedre vise dataene våre. \n\nSkjermen skal kobles til mellom CanSat og micro:bit.\n\n![Kitronik OLED-skjerm](https://www.lekolar.no/globalassets/inriver/resources/133848_118895.jpg)\n\n\n## Del 3.1:\n\n### Oppgave 3: Sette opp OLED-skjerm\n\nFra biblioteket ``||kitronik_VIEW128x64: 128x64 Display||``, hent blokkene ``||kitronik_VIEW128x64: turn AV display||`` og ``||kitronik_VIEW128x64: Set font size to Normal||``. \n\nPlasser begge blokkene inn i ``||basic: ved start||``, og sett display til ``||kitronik_VIEW128x64: PÅ||`` og sett font til ``||kitronik_VIEW128x64: Big||``.\n\n```blocks\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Big)\n```\n\n\n## Del 3.2: \n\n### Oppgave 3: Vise nedtelling på OLED-skjermen\n\nFjern ``||basic: vis tall||`` ``||variables: teller||`` fra ``||functions: nedtelling||``. \n\nSett istedet inn ``||kitronik_VIEW128x64: clear display||`` og ``||kitronik_VIEW128x64: show||`` ``||variables: teller||`` ``||kitronik_VIEW128x64: on line 1||``.\n\nLast ned koden for å teste!\n\n```blocks\nfunction nedtelling () {\n    teller = 10\n    for (let indeks = 0; indeks <= 10; indeks++) {\n        kitronik_VIEW128x64.clear()\n        kitronik_VIEW128x64.show(teller, 1)\n        teller += -1\n        basic.pause(1000)\n    }\n    pins.digitalWritePin(DigitalPin.P0, 1)\n    basic.pause(5000)\n    pins.digitalWritePin(DigitalPin.P0, 0)\n}\ninput.onButtonPressed(Button.A, function () {\n    nedtelling()\n})\nlet teller = 0\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Big)\nnedtelling()\n```\n\n\n## Del 4 @unplugged\n\n### Oppgave 4: Lage et voltmeter\n\nAlle sensorene vi skal koble til CanSat'en bruker spenningsverdien vi får fra sensoren for å regne ut den faktiske verdien vår. Vi må derfor lære hvordan man konverterer den analog verdi vi får inn på micro:biten til en spenningsverdien.\n\n\n## Del 4.1\n\n### Oppgave 4: Lagre analog verdi på micro:biten\n\nStart med å lage en ny funksjon: ``||functions: voltmeter||``.\n\nInni ``||functions: voltmeter||`` skal vi lage en ny variabel: ``||variables: analogVerdi||``. Sett ``||variables: analogVerdi||`` til å ``||pins: lese analog verdi fra P0||``.\n\n```blocks\nlet analogVerdi = 0\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n```\n\n## Del 4.2\n\n### Oppgave 4: Vise analog verdi på OLED-skjermen\n\nInni funksjonen ``||functions: voltmeter||`` skal vi vise den analoge verdien vi får fra P0. \n\nStart med å fjerne alt på skjermen med ``||kitronik_VIEW128x64: clear display||``. For å vise noe på skjermen, bruk blokken ``||kitronik_VIEW128x64: show ||``. Trykk på pluss(+) for å utvide blokken. Sett linjevalg til 1.\n\nFor å kunne vise både tekst og en variabel på samme linje, må vi hente ``||text: sett sammen ||`` fra biblioteket ``||text: Tekst ||``. Sett blokken inni ``||kitronik_VIEW128x64: show ||``.\n\nI den første ruta til ``||text: sett sammen ||``, skriv \"Analog: \". I den andre ruta, sette inn variabelen ``||variables: analogVerdi||``.\n\nTil slutt skal vi oppdatere verdien som leses til hver 500ms: Bruk en ``||basic: pause||`` for å gjøre dette.\n\n```blocks\nlet analogVerdi = 0\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n    kitronik_VIEW128x64.clear()\n    kitronik_VIEW128x64.show(\"Analog: \" + analogVerdi, 1)\n    basic.pause(500)\n```\n\n\n## Del 4.3\n\n### Oppgave 4: Bestemme verdi på Uref\n\nLage en ny variabel: ``||variables: Uref||``.\n\n``||variables: Uref||`` skal settes inn i ``||basic: ved start||`` . Verdien vi skriver inn her er avhengig av om CanSat får strøm fra USB eller batteri.\n\nSe tabell under for hva ``||variables: Uref||`` skal være :\n\n|   **Spenning fra USB**   |   **Spenning fra batteri**   |\n| :------------: | :------------: |\n| 3.2 | 3.0 |\n\n```blocks\nlet Uref = 0\nUref = 3.2\n```\n\n\n## Del 4.4\n\n### Oppgave 4: Beregne spenning fra analog verdi\n\nLage en ny variabel: ``||variables: spenning||``.\n\nBruk denne formelen  for å sette ``||variables: spenning||`` til ( ``||variables: analogverdi||`` / 1024 ) * ``||variables: Uref||``\n\n```blocks\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n    spenning = analogVerdi / 1024 * Uref\n    kitronik_VIEW128x64.clear()\n    kitronik_VIEW128x64.show(\"Analog: \" + analogVerdi, 1)\n    basic.pause(500)\n}\n```\n\n\n## Del 4.5\n\n### Oppgave 4: Vis spenningsverdi på OLED-skjerm\n\nVi skal gjøre det samme som vi gjorde for å vise den analoge verdien på OLED-skjermen:\n\nHente ``||text: sett sammen ||`` fra biblioteket ``||text: Tekst ||``. Sett blokken inni en ny ``||kitronik_VIEW128x64: show ||``. Utvid blokken og endre til å skrive på linje 2.\n\nI den første ruta til ``||text: sett sammen ||``, skriv \"Spenning: \". I den andre ruta, sette inn variabelen ``||variables: spenning||``. Utvid til en tredje rute hvor du skriver \" V\".\n\n**Bonus:** Endre skriftstørrelse på OLED-skjerm til ``||kitronik_VIEW128x64: Normal ||``.\n\n```blocks\nlet spenning = 0\nlet analogVerdi = 0\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n    spenning = analogVerdi / 1024 * Uref\n    kitronik_VIEW128x64.clear()\n    kitronik_VIEW128x64.show(\"Analog: \" + analogVerdi, 1)\n    kitronik_VIEW128x64.show(\"Spenning: \" + spenning + \" V\", 2)\n    basic.pause(500)\n}\nUref = 3.2\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\n```\n\n\n## Del 4.6\n\n### Oppgave 4: Runde av spenningsverdi\n\nNår du testet koden din, så du kanskje at du fikk veldig mange desimaler. Vi kan ikke direkte skrive at vi kun ønsker 2 desimaler. Det vi må gjøre er å gange verdien vi har fått med 100, ``||math: avrund ||`` den nye verdien vår, før vi deler den på 100. Endre ``||math: avrund ||`` til ``||math: avkorte ||``.\n\nVi skal endre utregningen for variabelen ``||variables: spenning ||``. Formelen blir seende slik ut vi setter ``||variables: spenning ||`` til ``||math: avkorte||`` ( ``||variables: analogVerdi||`` ``||math: / ||`` 1024 ``||math: *||`` ``||variables: Uref ||`` ``||math: *||`` 100 ) ``||math: / ||`` 100\n\n```blocks\nlet spenning = 0\nlet analogVerdi = 0\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n    spenning = Math.trunc(analogVerdi / 1024 * Uref * 100) / 100\n    kitronik_VIEW128x64.clear()\n    kitronik_VIEW128x64.show(\"Analog: \" + analogVerdi, 1)\n    kitronik_VIEW128x64.show(\"Spenning: \" + spenning + \" V\", 2)\n    basic.pause(500)\n}\n```\n\n\n## Del 5 @unplugged\n\n### Oppgave 5: Lage et termometer med TMP36\n\nI denne oppgaven skal vi finne temperaturen fra en TMP36 temperatursensor. \n\nKoble opp kretsen på bildet under:\n\n![Oppgave-5-TMP36-Oppkobling.png](https://i.postimg.cc/g2RTLYvL/Oppgave-5-TMP36-Oppkobling.png)\n\n\n## Del 5.1\n\n### Oppgave 5: Regne om spenningsverdi til temperatur\n\nVi skal lage en ny funksjon: ``||functions: termometer||``.\n\nInne ``||functions: termometer||``, lage en ny variabel: ``||variables: temperatur||``.\n\nBruk denne formelen for å sette ``||variables: temperatur||`` til ( ``||variables: spenning||`` ``||math: -||`` 0.5 ) ``||math: /||`` 0.01\n\n```blocks\nfunction termometer () {\n    temperatur = (spenning - 0.5) / 0.01\n}\n```\n\n## Del 5.2\n\n### Oppgave 5: Vise termometer på OLED-skjerm\n\n Plasser en ``||text: sett sammen ||`` inni en ny ``||kitronik_VIEW128x64: show ||``. Utvid blokken og endre til å skrive på linje 3.\n\nI den første ruta til ``||text: sett sammen ||``, skriv \"Temperatur: \". I den andre ruta, sette inn variabelen ``||variables: temperatur||``. Utvid til en tredje rute hvor du skriver \" C\".\n\nKall opp funksjonen ``||functions: termometer||`` fra ``||basic: gjenta for alltid||``, og flytt ``||basic: pause 500 ms||`` fra ``||functions: voltmeter||`` til ``||basic: gjenta for alltid||``.\n\n```blocks\nfunction termometer () {\n    temperatur = (spenning - 0.5) / 0.01\n    kitronik_VIEW128x64.show(\"Temperatur: \" + temperatur + \" C\", 3)\n}\nbasic.forever(function () {\n    voltmeter()\n    termometer()\n    basic.pause(500)\n})\nfunction voltmeter () {\n    analogVerdi = pins.analogReadPin(AnalogPin.P0)\n    spenning = Math.trunc(analogVerdi / 1024 * Uref * 100) / 100\n    kitronik_VIEW128x64.clear()\n    kitronik_VIEW128x64.show(\"Analog: \" + analogVerdi, 1)\n    kitronik_VIEW128x64.show(\"Spenning: \" + spenning + \" V\", 2)\n}\n```\n\n## Del 6 @unplugged\n\n### Oppgave 6: Lag et barometer\n\nVi skal bruke en ``||BMP280: BMP280||`` sensor. Denne sensoren kan måle:\n\n- Temperatur\n- Trykk\n- Luftfuktighet\n- Duggpunkt\n\nFor å lage et barometer skal vi bruke ``||BMP280: trykk||``.\n\n\n\n## Del 6.1\n\n### Oppgave 6: Koble opp og lese av fra BMP280\n\nFor å få BMP280 til å snakke med CanSat, skal vi sette opp to blokken inn i ``||basic: ved start||`` fra biblioteket ``||BMP280: BMP280||``:\n\n- ``||BMP280: Power On||``\n- ``||BMP280: set address 0x76||``\n\nVidere, lage en ny funksjon: ``||functions: BMP280_sensor||``.\n\nInne ``||functions: BMP280_sensor||``, sett opp en ny variabel: ``||variables: trykk||``. Sett ``||variables: trykk||`` til ``||BMP280: pressure||``.\n\n```blocks\nUref = 3.2\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\nBME280.PowerOn()\nBME280.Address(BME280_I2C_ADDRESS.ADDR_0x76)\nfunction BMP280_sensor () {\n    trykk = BME280.pressure(BME280_P.Pa)\n}\n```\n\n## Del 6.2\n\n### Oppgave 6: Skrive lufttrykk på OLED-skjerm\n\nKopier koden vi har brukt før for å skrive til OLED-skjerm.\n\nI den første ruta, skriv \"Trykk: \". I den andre ruta, sette inn ``||variables: trykk||``. I den tredje, skriv \" Pa\". Skriv til linje 4.\n\n```blocks\nUref = 3.2\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\nBME280.PowerOn()\nBME280.Address(BME280_I2C_ADDRESS.ADDR_0x76)\nfunction barometer () {\n    trykk = BME280.pressure(BME280_P.Pa)\n    kitronik_VIEW128x64.show(\"Trykk: \" + trykk + \" Pa\", 4)\n}\n```\n\n## Del 7 @unplugged\n\n### Oppgave 7: Formel for å regne om barometrisk lufttrykk til relativ høyde på CanSat\n\n![Regne-ut-hoyde-i-forhold-til-trykk.png](https://i.postimg.cc/Lst1zpZS/Regne-ut-hoyde-i-forhold-til-trykk.png)\n\nHvor:\n- **h:**  Beregnet høyde i meter\n- **h1:** Referansehøyde i meter (starthøyde er 0 eller m.o.h.)\n- **T:**  Temperatur i Kelvin (``||variables: temperatur||`` + 273,15)\n- **T1:** Referansetemperatur ved referansehøyden h1\n- **R:**  Den spesifikke gasskonstant 287,06 J/kg K\n- **a:**  Temperaturgradient, foreslått verdi -0,0065 K/m\n- **p:**  Målt trykk i Pa\n- **p1:** Trykk i Pa ved referansehøyden h1\n- **g0:** Tyngdeakselerasjonen 9,81 m/s^2\n\n\n## Del 7.1\n\n### Oppgave 7: Lage formelen for å beregne høyden til CanSat\n\n\n```blocks\nlet h = h1 + (T1 / a) * (Math.pow((p / p1), (-(R * a) / g0)) - 1)\n```\n\n\n```package\npxt-kitronik-128x64display=github:kitronikltd/pxt-kitronik-128x64display\nBMP280=github:microbit-makecode-packages/BME280\n```","pxt.json":"{\n    \"name\": \"CanSat_ovingsoppgaver_Tutorial\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"CanSat_Tutorial.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1763759717101}